<div class="manage-books-container">
  <h2>Zarządzaj książkami</h2>

  <!-- Formularz do dodawania książek -->
  <div class="book-form">
    <h3>Dodaj książkę</h3>
    <form [formGroup]="newBookForm" (ngSubmit)="addBook()">
      <input formControlName="title" placeholder="Tytuł" required />
      <input formControlName="author" placeholder="Autor" required />
      <input formControlName="genre" placeholder="Gatunek" required />
      <input formControlName="publicationYear" placeholder="Rok publikacji" type="number" required />

      <!-- Dostępność książki -->
      <div class="availability-checkbox">
        <label>
          <input formControlName="isAvailable" type="checkbox" />
          Dostępna
        </label>
      </div>

      <button type="submit" [disabled]="newBookForm.invalid">Dodaj książkę</button>
    </form>
  </div>

  <!-- Formularz wyszukiwania -->
  <div class="search-form">
    <h3>Wyszukaj książki</h3>
    <input [(ngModel)]="searchQuery" (ngModelChange)="onSearchChange()" placeholder="Wyszukaj po tytule, autorze lub gatunku" />
  </div>

  <!-- Formularz edycji książki -->
  <div *ngIf="editingBook">
    <h3>Edytuj książkę</h3>
    <form [formGroup]="editingBookForm" (ngSubmit)="saveEdit()">
      <input formControlName="title" placeholder="Tytuł" required />
      <input formControlName="author" placeholder="Autor" required />
      <input formControlName="genre" placeholder="Gatunek" required />
      <input formControlName="publicationYear" placeholder="Rok publikacji" type="number" required />

      <!-- Dostępność książki -->
      <div class="availability-checkbox">
        <label>
          <input formControlName="isAvailable" type="checkbox" />
          Dostępna
        </label>
      </div>

      <button type="submit" [disabled]="editingBookForm.invalid">Zapisz</button>
      <button type="button" (click)="cancelEdit()">Anuluj</button>
    </form>
  </div>

  <!-- Lista książek -->
  <div class="book-list">
    <ul>
      <li *ngFor="let book of filteredBooks">
        {{ book.title }} - {{ book.author }} ({{ book.publicationYear }})
        <button (click)="editBook(book)">Edytuj</button>
        <button (click)="deleteBook(book.bookId)">Usuń</button>
      </li>
    </ul>
  </div>
</div>
